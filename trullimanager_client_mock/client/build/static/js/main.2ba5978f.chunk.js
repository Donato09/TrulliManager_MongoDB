(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{60:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c,r=n(3),a=n.n(r),i=n(51),o=n.n(i),l=(n(60),n(13)),s=n(52),j=n(17),u=n(33),b=Object(l.gql)(c||(c=Object(u.a)(["\n  query {\n  properties {\n    nodes {\n      _id,\n      city,\n      name,\n      trulli {\n        _id,\n        name\n      }\n    }\n  }\n}\n"]))),p=n(4);var O,d=function(){var e=Object(l.useQuery)(b),t=(e.error,e.loading,e.data),n=Object(r.useState)([]),c=Object(j.a)(n,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){t&&i(t.properties.nodes)}),[t]),Object(p.jsx)("div",{children:a.map((function(e){return Object(p.jsxs)("li",{children:["Property - ",e._id," - ",e.name," - ",e.city,e.trulli.map((function(e){return Object(p.jsxs)("li",{children:["Trullo - ",e._id," - ",e.name,Object(p.jsx)("br",{})]},e._id)})),Object(p.jsx)("br",{})]},e._id)}))})},h=n(38),x=n.n(h),g=n(55),f=Object(l.gql)(O||(O=Object(u.a)(["\n  mutation (\n    $inputType: CreatePropertyInput\n    ) {\n    createProperty (\n        property: $inputType\n    ) {\n      _id\n    }\n  }\n"])));var y=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(j.a)(a,2),o=i[0],s=i[1],u=Object(r.useState)(""),b=Object(j.a)(u,2),O=b[0],d=b[1],h=Object(r.useState)(""),y=Object(j.a)(h,2),m=(y[0],y[1]),v=Object(r.useState)(""),C=Object(j.a)(v,2),S=(C[0],C[1]),P=Object(l.useMutation)(f,{onSuccess:function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(T),document.getElementById("result").text=T;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),w=Object(j.a)(P,2),k=w[0],_=w[1],q=_.loading,E=_.error,T=_.data;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("label",{children:["Name:",Object(p.jsx)("input",{type:"text",placeholder:"Name",onChange:function(e){c(e.target.value)}})]}),Object(p.jsxs)("label",{children:["City:",Object(p.jsx)("input",{type:"text",placeholder:"City",onChange:function(e){s(e.target.value)}})]}),Object(p.jsxs)("label",{children:["Street:",Object(p.jsx)("input",{type:"text",placeholder:"Street",onChange:function(e){d(e.target.value)}})]}),Object(p.jsxs)("label",{children:["SPA:",Object(p.jsx)("input",{type:"checkbox",onChange:function(e){m(e.target.value)}})]}),Object(p.jsxs)("label",{children:["Swimming Pool:",Object(p.jsx)("input",{type:"checkbox",onChange:function(e){S(e.target.value)}})]}),Object(p.jsx)("button",{onClick:function(){k({variables:{inputType:{name:n,city:o,street:O,spa:!0,swimmingPool:!1}}})},children:" Create Property"})]}),q&&Object(p.jsx)("p",{children:"Loading..."}),E&&Object(p.jsx)("p",{children:"Error :( Please try again"}),void 0!=T&&Object(p.jsxs)("p",{children:["Result -- ",T.createProperty._id]}),Object(p.jsx)("div",{id:"result"})]})},m=Object(s.a)((function(e){var t=e.graphqlErrors;e.networkError;t&&t.map((function(e){var t=e.message;e.location,e.path;alert("Graphql error ".concat(t))}))})),v=Object(l.from)([m,new l.HttpLink({uri:"http://localhost:4000/graphql"})]),C=new l.ApolloClient({cache:new l.InMemoryCache,link:v});var S=function(){return Object(p.jsxs)(l.ApolloProvider,{client:C,children:[" ",Object(p.jsx)(d,{}),Object(p.jsx)(y,{})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root")),P()}},[[70,1,2]]]);
//# sourceMappingURL=main.2ba5978f.chunk.js.map